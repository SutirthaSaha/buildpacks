apiVersion: batch/v1
kind: CronJob
metadata:
  name: cron-job
  namespace: ums-demo # Ensure this is the correct namespace
  labels:
    name: cron-job
spec:
  schedule: "0 * * * *"
  suspend: true
  jobTemplate:
    spec:
      template:
        metadata:
          labels:
            name: cron-job
        spec:
          containers:
          - name: cron-job
            image: suti12/cron-job:v2-full
            imagePullPolicy: Always
            securityContext:
              allowPrivilegeEscalation: false
              capabilities:
                drop: ["ALL"]
              runAsNonRoot: true
              runAsUser: 1000
              seccompProfile:
                type: "RuntimeDefault"
          restartPolicy: Never
          terminationGracePeriodSeconds: 30
